{% extends 'base.html'  %}
{% block title %}Tag Details{% endblock %}

{% block content %}

    <h1>Edit {{tag.name}} Details</h1>

    <form action="/tags/{{tag.id}}/edit" method="POST">
        Current Tag Name: <br>
        <input type="text" name="name" value="{{tag.name}}"> <br>




    <div class="form-group row form-check"> 
        <br>
        <h4>List of Posts</h4>
        <!-- for each post in posts, return a checklist -->
        <!-- value for checkbox type defines value of the input and is sent on submit -->
        <!-- if post in tag.posts (if post in list of posts that are tagged) check it -->
        {% for post in posts %}
        <div>
          <input
                  class="form-input"
                  type="checkbox"
                  value="{{ post.id }}"
                  id="post_{{ post.id }}"
                  name="posts"
                  
                  {% if post in tag.posts %}
                  checked
                  {% endif %}
          >
          <label class="form-check-label" for="post_{{ post.id }}">
            {{ post.title }}
          </label>
        </div>
        {% endfor %}
      </div>



    
    <button>Edit Tag</button>
    
</form>
<br><br>

<a href="/tags/{{tag.id}}">Go Back to Tags</a>

{% endblock %}